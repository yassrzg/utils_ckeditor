!function(e,t){"use strict";e.behaviors.ckeditorUtils={attach:function(e,r){t.ckeditorUtils||(t.ckeditorUtils={});const n=t.utilsCkeditor.hostUrls||[],a=(t,r)=>{const n=once(t,`.ckeditor-${t}`,e);0!==n.length&&n.forEach((e=>{const t=Array.from(e.children);let n=t.filter((e=>"dd"===e.tagName.toLowerCase())),a=t.filter((e=>"dt"===e.tagName.toLowerCase())),o=[];a.forEach(((e,t)=>{const a=document.createElement("div");a.classList.add("fr-callout",r);const d=n[2*t],i=n[2*t+1],c=document.createElement("p");let s;if(c.classList.add("fr-callout__text"),c.innerHTML=d.innerHTML.trim(),i){const e=i.querySelector("a"),t=e?e.innerText.trim():i.innerText.trim(),r=e?e.getAttribute("href"):"#";s=document.createElement("a"),s.classList.add("fr-btn"),s.textContent=t,s.setAttribute("href",r)}const l=e.innerText.trim(),m=document.createElement("h3");m.classList.add("fr-callout__title"),m.textContent=l,a.appendChild(m),a.appendChild(c),s&&a.appendChild(s),o.push(a)})),o.forEach((t=>{e.parentNode.insertBefore(t,e)})),e.remove()}))},o=()=>"badge-ckeditor-"+Math.random().toString(36).substr(2,9);document.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=document.querySelectorAll("table");0!==e.length&&e.forEach(((e,t)=>{if(e.closest(".fr-table__content"))return;const r=document.createElement("table");r.setAttribute("id","table-md");const n=e.querySelector("caption"),a=e.querySelector("thead"),o=e.querySelector("tbody");if(n){const e=document.createElement("caption");e.innerHTML=n.innerHTML,r.appendChild(e)}if(a){const e=document.createElement("thead");e.innerHTML=a.innerHTML,e.querySelectorAll("th").forEach((e=>{e.setAttribute("scope","col")})),r.appendChild(e)}if(o){const e=document.createElement("tbody");o.querySelectorAll("tr").forEach(((t,r)=>{t.setAttribute("id","table-md-row-key-"+(r+1)),t.setAttribute("data-row-key",r+1),t.querySelectorAll("td").forEach((e=>{const r=document.createElement("td");r.innerHTML=e.innerHTML,t.replaceChild(r,e)})),e.appendChild(t.cloneNode(!0))})),r.appendChild(e)}const d=document.createElement("div");d.classList.add("fr-table__wrapper");const i=document.createElement("div");i.classList.add("fr-table__container");const c=document.createElement("div");c.classList.add("fr-table__content");const s=document.createElement("div");s.classList.add("fr-table"),s.setAttribute("id","table-md-component"),s.appendChild(d),d.appendChild(i),i.appendChild(c),c.appendChild(r),e.parentNode.insertBefore(s,e),e.remove()}))})()})),(t=>{const r=once(t,`.ckeditor-${t}`,e);0!==r.length&&r.forEach((e=>{let t=Array.from(e.children).filter((e=>"dd"===e.tagName.toLowerCase()));if(t.length>1){const r=e.getAttribute("data-size")||"medium",n=`fr-badges-group fr-badges-group--${r}`,a=document.createElement("ul");a.classList.add(...n.split(" ")),t.forEach((t=>{const n=document.createElement("li"),d=document.createElement("p"),i=e.getAttribute("data-type")||"default",c="true"===e.getAttribute("data-icon"),s=t?t.innerHTML.trim():"",l=o(),m=`fr-badge fr-badge--${r} fr-badge--${i} ${c?"":"fr-badge--no-icon"}`.trim();d.classList.add(...m.split(" ")),d.id=l,d.innerHTML=s,n.appendChild(d),a.appendChild(n)})),e.parentNode.insertBefore(a,e),e.remove()}else if(1===t.length){const r=t[0],n=document.createElement("p"),a=e.getAttribute("data-type")||"default",d=e.getAttribute("data-size")||"medium",i="true"===e.getAttribute("data-icon"),c=r?r.innerHTML.trim():"",s=o(),l=`fr-badge fr-badge--${d} fr-badge--${a} ${i?"":"fr-badge--no-icon"}`.trim();n.classList.add(...l.split(" ")),n.id=s,n.innerHTML=c,e.parentNode.insertBefore(n,e),e.remove()}}))})("badge"),(t=>{const r=once(t,`.ckeditor-${t}`,e);0!==r.length&&r.forEach((e=>{const t=Array.from(e.children);let r=t.filter((e=>"dd"===e.tagName.toLowerCase())),n=t.filter((e=>"dt"===e.tagName.toLowerCase())),a=[];n.length||(n=new Array(r.length).fill(null)),n.forEach(((t,n)=>{const o=document.createElement("div"),d=e.getAttribute("data-type")||"info",i=e.getAttribute("data-size")||"medium",c=`fr-alert fr-alert--${d}`+(i?` fr-alert--${i}`:"");o.classList.add(...c.split(" "));const s=r[n],l=document.createElement("p");if(l.classList.add("fr-alert__text"),l.innerHTML=s?s.innerHTML.trim():"",t){const e=t.innerText?t.innerText.trim():"";if(e){const t=document.createElement("h3");t.classList.add("fr-alert__title"),t.textContent=e,o.appendChild(t)}}o.appendChild(l),a.push(o)})),a.forEach((t=>{e.parentNode.insertBefore(t,e)})),e.remove()}))})("alert"),(t=>{const r=once(t,`.ckeditor-${t}`,e);if(0===r.length)return;const n=(e,t,r)=>{const n=document.createElement("div");n.classList.add("fr-col-12","fr-col-md-6","fr-col-lg-4");const a=document.createElement("div");a.classList.add("fr-card");const o=document.createElement("div");o.classList.add("fr-card__body");const d=document.createElement("div");d.classList.add("fr-card__content");const i=document.createElement("h3");i.classList.add("fr-card__title");const c=document.createElement("a"),s=e.querySelector("a"),l=s?s.innerText.trim():e.innerText.trim(),m=s?s.getAttribute("href"):"#";c.setAttribute("href",m),c.innerText=l,i.appendChild(c),d.appendChild(i);const u=t?t.innerText.trim():"",f=document.createElement("p");f.classList.add("fr-card__desc"),f.textContent=u,d.appendChild(f),o.appendChild(d),a.appendChild(o);const p=document.createElement("div");p.classList.add("fr-card__header");const h=document.createElement("div");if(h.classList.add("fr-card__img"),r){const e=r.querySelector("img");e&&(e.classList.add("fr-responsive-img"),h.appendChild(e))}return p.appendChild(h),a.appendChild(p),n.appendChild(a),n};r.forEach((e=>{const t=Array.from(e.children);let r=t.filter((e=>"dd"===e.tagName.toLowerCase())),a=t.filter((e=>"dt"===e.tagName.toLowerCase()));if(a.length>1){const t=document.createElement("div");t.classList.add("fr-grid-row","fr-grid-row--gutters"),a.forEach(((e,a)=>{const o=r[2*a],d=r[2*a+1],i=(e.innerText.trim(),n(e,o,d));e.remove(),o&&o.remove(),d&&d.remove(),t.appendChild(i)})),e.appendChild(t)}else a.forEach(((t,a)=>{const o=r[2*a],d=r[2*a+1],i=(t.innerText.trim(),n(t,o,d));t.remove(),o&&o.remove(),d&&d.remove(),e.appendChild(i)}))}))})("card"),(t=>{const r=once(t,`.ckeditor-${t}`,e);0!==r.length&&r.forEach((e=>{const t=Array.from(e.children);let r=t.filter((e=>"dd"===e.tagName.toLowerCase())),n=t.filter((e=>"dt"===e.tagName.toLowerCase())),a=[];n.forEach(((e,t)=>{const n=e.innerText.trim(),o=r[t].innerText.trim(),d=document.createElement("button");d.classList.add("fr-btn"),d.textContent=n,o&&d.setAttribute("onclick",`window.location.href='${o}';`),a.push(d)})),a.forEach((t=>{e.parentNode.insertBefore(t,e)})),e.remove()}))})("button"),(t=>{const r=once(t,`.ckeditor-${t}`,e);0!==r.length&&r.forEach((e=>{const t=Array.from(e.children);let r=t.filter((e=>"dd"===e.tagName.toLowerCase())),n=t.filter((e=>"dt"===e.tagName.toLowerCase())),a=[],o=[];n.forEach(((e,t)=>{const n="tabpanel-"+Math.random().toString(36).substr(2,9),d=`${n}-panel`,i=document.createElement("button");i.id=n,i.classList.add("fr-tabs__tab","fr-icon-checkbox-line","fr-tabs__tab--icon-left"),i.setAttribute("role","tab"),i.setAttribute("aria-selected",0===t?"true":"false"),i.setAttribute("aria-controls",d),i.tabIndex=0===t?0:-1,i.textContent=e.innerText.trim();const c=document.createElement("div");c.id=d,c.classList.add("fr-tabs__panel"),0===t&&c.classList.add("fr-tabs__panel--selected"),c.setAttribute("role","tabpanel"),c.setAttribute("aria-labelledby",n),c.tabIndex=0;const s=r[t];s&&(c.innerHTML=s.innerHTML.trim()),a.push(i),o.push(c)}));const d=document.createElement("ul");d.classList.add("fr-tabs__list"),d.setAttribute("role","tablist"),d.setAttribute("aria-label","Nom du système d'onglet"),a.forEach((e=>{const t=document.createElement("li");t.setAttribute("role","presentation"),t.appendChild(e),d.appendChild(t)}));const i=document.createElement("div");i.classList.add("fr-tabs"),i.appendChild(d),o.forEach((e=>{i.appendChild(e)})),e.parentNode.insertBefore(i,e),e.remove()}))})("tab"),(t=>{const r=once(t,`.ckeditor-${t}`,e);0!==r.length&&r.forEach((e=>{const t=Array.from(e.children);t.filter((e=>"dd"===e.tagName.toLowerCase()));let r=t.filter((e=>"dt"===e.tagName.toLowerCase())),n=[];r.forEach(((e,t)=>{const a=document.createElement("figure");a.classList.add("fr-quote","fr-quote--column");const o=r[t],d=(o&&o.innerText.trim(),document.createElement("p"));d.innerHTML=o?o.innerHTML.trim():"";const i=document.createElement("blockquote");i.appendChild(d),a.appendChild(i),n.push(a)})),n.forEach((t=>{e.parentNode.insertBefore(t,e)})),e.remove()}))})("quote"),a("callout","fr-icon-information-line"),a("calloutButton","fr-icon-information-line"),(t=>{const r=once(t,`.ckeditor-${t}`,e);0!==r.length&&r.forEach((e=>{const t=Array.from(e.children);let r=t.filter((e=>"dd"===e.tagName.toLowerCase())),a=t.filter((e=>"dt"===e.tagName.toLowerCase())),o=[];a.forEach(((t,a)=>{const d=document.createElement("figure");d.setAttribute("role","group"),d.classList.add("fr-content-media");const i=r[2*a],c=r[2*a+1],s=i.innerText.trim(),l=c.innerText.trim(),m=t.innerText.trim();if(!n.some((e=>m.includes(e)))){const t=document.createElement("a");t.classList.add("fr-link","fr-icon-arrow-right-line","fr-link--icon-right"),t.setAttribute("href","/admin/config/content/ckeditor/utils_ckeditor/config_video/display"),t.textContent="Veuillez ajouter le domaine de la vidéo dans la configuration du module.";const r=document.createElement("div");r.classList.add("fr-alert","fr-alert--warning");const n=document.createElement("h3");n.classList.add("fr-alert__title"),n.textContent="Domaine de la vidéo non autorisé";const a=document.createElement("p");return a.textContent="Le domaine de la vidéo n'est pas autorisé.",r.appendChild(n),r.appendChild(a),r.appendChild(t),void e.parentNode.insertBefore(r,e)}let u;if(m.startsWith("https://www.youtube"))u=document.createElement("iframe"),u.setAttribute("title","YouTube Video"),u.classList.add("fr-responsive-vid"),u.setAttribute("src",m),u.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),u.setAttribute("allowfullscreen","");else{u=document.createElement("video"),u.classList.add("fr-responsive-vid"),u.setAttribute("controls",""),u.setAttribute("preload","none");const e=document.createElement("source");e.setAttribute("src",m),e.setAttribute("type",(e=>{switch(e.split(".").pop().toLowerCase()){case"mp4":return"video/mp4";case"webm":return"video/webm";case"ogg":return"video/ogg";default:return""}})(m)),u.appendChild(e)}const f=document.createElement("figcaption");f.classList.add("fr-content-media__caption"),f.textContent="Description / Source ";const p=document.createElement("a");p.classList.add("fr-link"),p.setAttribute("href",l),p.textContent=s,f.appendChild(p),d.appendChild(u),d.appendChild(f),o.push(d)})),o.forEach((t=>{e.parentNode.insertBefore(t,e)})),e.remove()}))})("video"),(t=>{const r=once(t,`.ckeditor-${t}`,e);0!==r.length&&r.forEach((e=>{const t=Array.from(e.children);let r=t.filter((e=>"dd"===e.tagName.toLowerCase())),n=t.filter((e=>"dd"===e.tagName.toLowerCase())),a=[];n.forEach(((e,t)=>{const n=document.createElement("div");n.classList.add("fr-highlight");const o=r[t],d=document.createElement("p");d.innerHTML=o.innerHTML.trim(),n.appendChild(d),a.push(n)})),a.forEach((t=>{e.parentNode.insertBefore(t,e)})),e.remove()}))})("highLight")}}}(Drupal,drupalSettings);